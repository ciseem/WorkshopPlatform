@model WorkshopPlatform.Core.Entities.Workshop
@{
    ViewData["Title"] = "Yeni Workshop";
}

<div style="max-width: 800px; margin: 0 auto;">
    <div style="margin-bottom: 2.5rem; text-align: center;">
        <h3 style="font-size: 2.25rem; font-weight: 800; color: var(--dark); margin-bottom: 0.5rem;">Yeni Workshop OluÅŸtur</h3>
        <p style="color: var(--secondary); font-size: 1rem; max-width: 500px; margin: 0 auto;">UzmanlÄ±ÄŸÄ±nÄ±zÄ± paylaÅŸmak iÃ§in aÅŸaÄŸÄ±daki formu doldurarak yeni bir eÄŸitim baÅŸlatÄ±n.</p>
    </div>

    <div class="premium-card" style="padding: 3rem;">
        <form asp-action="Create" method="post">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <!-- Header -->
                <div style="grid-column: span 2;">
                    <label style="display: block; font-weight: 700; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--dark);">EÄŸitim BaÅŸlÄ±ÄŸÄ±</label>
                    <input asp-for="Baslik" class="elite-input" style="width: 100%;" placeholder="Ã–rn: Ä°leri Seviye Kurumsal Mimari" required />
                </div>

                <div style="grid-column: span 2;">
                    <label style="display: block; font-weight: 700; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--dark);">EÄŸitim Ä°Ã§eriÄŸi ve AÃ§Ä±klama</label>
                    <textarea asp-for="Aciklama" class="elite-input" style="width: 100%; height: 120px;" placeholder="KatÄ±lÄ±mcÄ±lara eÄŸitim iÃ§eriÄŸi hakkÄ±nda detaylÄ± bilgi verin." required></textarea>
                </div>

                <!-- Meta -->
                <div>
                    <label style="display: block; font-weight: 700; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--dark);">Kategori</label>
                    <select asp-for="Kategori" class="elite-input" style="width: 100%;">
                        <option value="YazÄ±lÄ±m">YazÄ±lÄ±m MÃ¼hendisliÄŸi</option>
                        <option value="TasarÄ±m">Dijital Sanat & TasarÄ±m</option>
                        <option value="Pazarlama">Stratejik Pazarlama</option>
                        <option value="Ä°ÅŸletme">Ä°ÅŸletme & YÃ¶netim</option>
                    </select>
                </div>

                <div>
                    <label style="display: block; font-weight: 700; margin-bottom: 0.5rem; font-size: 0.85rem; color: var(--dark);">EÄŸitim Ãœcreti (â‚º)</label>
                    <input asp-for="Fiyat" type="number" step="1" class="elite-input" style="width: 100%;" placeholder="0" />
                </div>

                <!-- Location âš“ðŸ—ºï¸ -->
                <div style="grid-column: span 2; border-top: 1px solid var(--gray-200); padding-top: 1.5rem;">
                    <h5 class="font-bold mb-4" style="color: var(--dark); font-size: 1rem;"><i class="fas fa-map-marker-alt text-primary mr-2"></i> Konum Bilgileri</h5>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
                        <div>
                            <label class="font-bold mb-2" style="font-size: 0.8rem;">Ä°l</label>
                            <input type="text" name="sehir" class="elite-input" style="width: 100%;" placeholder="Ã–rn: Ä°stanbul" required>
                        </div>
                        <div>
                            <label class="font-bold mb-2" style="font-size: 0.8rem;">Ä°lÃ§e</label>
                            <input type="text" name="ilce" class="elite-input" style="width: 100%;" placeholder="Ã–rn: BeÅŸiktaÅŸ" required>
                        </div>
                        <div>
                            <label class="font-bold mb-2" style="font-size: 0.8rem;">Mekan AdÄ±</label>
                            <input type="text" name="mekanAd" class="elite-input" style="width: 100%;" placeholder="Ã–rn: KampÃ¼s" required>
                        </div>
                    </div>
                    
                    <label class="font-bold mb-2" style="font-size: 0.8rem; display: block;">Harita Ãœzerinden SeÃ§in</label>
                    <div id="map" style="height: 250px; border-radius: 12px; border: 1px solid var(--gray-200); margin-bottom: 1rem;"></div>
                    <input type="hidden" name="enlem" id="enlem">
                    <input type="hidden" name="boylam" id="boylam">
                </div>

                <!-- Session -->
                <div style="grid-column: span 2; border-top: 1px solid var(--gray-200); padding-top: 1.5rem;">
                    <h5 class="font-bold mb-4" style="color: var(--dark); font-size: 1rem;"><i class="fas fa-calendar-alt text-primary mr-2"></i> Takvim ve Kontenjan</h5>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem;">
                        <div>
                            <label class="font-bold mb-2" style="font-size: 0.8rem;">BaÅŸlangÄ±Ã§ Tarihi</label>
                            <input type="date" name="tarih" class="elite-input" style="width: 100%;" required>
                        </div>
                        <div>
                            <label class="font-bold mb-2" style="font-size: 0.8rem;">Saat</label>
                            <input type="time" name="saat" class="elite-input" style="width: 100%;" required>
                        </div>
                        <div>
                            <label class="font-bold mb-2" style="font-size: 0.8rem;">Kontenjan</label>
                            <input type="number" name="kontenjan" class="elite-input" style="width: 100%;" value="20" required>
                        </div>
                    </div>
                </div>

                <div style="grid-column: span 2; display: flex; align-items: center; gap: 1rem; background: var(--gray-50); padding: 1rem; border-radius: 12px; border: 1px solid var(--gray-200);">
                    <input asp-for="UcretliMi" type="checkbox" style="width: 18px; height: 18px; accent-color: var(--primary);" />
                    <label asp-for="UcretliMi" class="font-bold mb-0">Bu eÄŸitim Ã¼cretli olarak verilecektir.</label>
                </div>
            </div>

            <div style="margin-top: 3rem; display: flex; gap: 1.5rem;">
                <button type="submit" class="btn-elite flex-1" style="padding: 1rem;">Workshop'Ä± Hemen YayÄ±nla</button>
                <a asp-action="Index" class="btn btn-light" style="padding: 1rem 2rem; border-radius: 12px; font-weight: 700; text-decoration: none; border: 1px solid var(--gray-300);">Ä°ptal</a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        var map = L.map('map').setView([41.0082, 28.9784], 10);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© OpenStreetMap'
        }).addTo(map);

        var marker;
        map.on('click', function(e) {
            if (marker) { map.removeLayer(marker); }
            marker = L.marker(e.latlng).addTo(map);
            document.getElementById('enlem').value = e.latlng.lat;
            document.getElementById('boylam').value = e.latlng.lng;
        });

        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                map.setView([position.coords.latitude, position.coords.longitude], 13);
            });
        }
    </script>
}
