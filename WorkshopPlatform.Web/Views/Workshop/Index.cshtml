@functions {
    string GetWorkshopImage(string kategori) {
        return kategori switch {
            "Yazılım" => "/images/software.png",
            "Tasarım" => "/images/design.png",
            "İşletme" => "/images/business.png",
            "Pazarlama" => "/images/marketing.png",
            _ => "https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800&q=80"
        };
    }
}

<div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 2rem; border-bottom: 1px solid var(--gray-200); padding-bottom: 1.5rem;">
    <div>
        <h2 style="font-size: 2rem; font-weight: 800; color: var(--dark); margin-bottom: 0.25rem;">Eğitim Kataloğu</h2>
        <p style="color: var(--secondary); font-size: 1rem; font-weight: 500;">İlginizi çeken workshopları keşfedin ve kayıt olun.</p>
    </div>
    <div style="display: flex; gap: 1rem; align-items: center;">
        <select style="padding: 0.75rem 1rem; border-radius: 8px; border: 1px solid var(--gray-200); background: #fff; font-weight: 600; color: var(--dark); font-family: inherit;">
            <option>Tüm Kategoriler</option>
            <option>Yazılım Mühendisliği</option>
            <option>Dijital Tasarım</option>
            <option>İşletme & Strateji</option>
        </select>
        @if (User.IsInRole("Instructor"))
        {
            <a asp-controller="Instructor" asp-action="Create" class="btn-elite" style="text-decoration: none;">
                <i class="fas fa-plus-circle mr-2"></i> Yeni Workshop Oluştur
            </a>
        }
    </div>
</div>

<div class="workshop-grid">
    @foreach (var item in Model)
    {
        <div class="premium-card workshop-card" style="padding: 0; overflow: hidden; display: flex; flex-direction: column;">
            <div style="position: relative; height: 180px; overflow: hidden;">
                <img src="@GetWorkshopImage(item.Kategori)" alt="@item.Baslik" style="width: 100%; height: 100%; object-fit: cover;">
                <div style="position: absolute; top: 0.75rem; right: 0.75rem;">
                    <span class="badge @(item.UcretliMi ? "badge-paid" : "badge-free")">
                        @(item.UcretliMi ? $"{item.Fiyat:C2}" : "Ücretsiz")
                    </span>
                </div>
            </div>
            
            <div style="padding: 1.5rem; flex-grow: 1; display: flex; flex-direction: column;">
                <div style="font-size: 0.7rem; color: var(--primary); font-weight: 800; text-transform: uppercase; margin-bottom: 0.5rem; letter-spacing: 1px;">@item.Kategori</div>
                <h3 style="font-size: 1.25rem; font-weight: 800; margin-bottom: 0.75rem; color: var(--dark); line-height: 1.3;">@item.Baslik</h3>
                <p style="font-size: 0.875rem; color: var(--secondary); line-height: 1.5; margin-bottom: 1.5rem;">
                    @item.Aciklama
                </p>
                
                <div style="margin-top: auto; display: flex; justify-content: space-between; align-items: center; padding-top: 1rem; border-top: 1px solid var(--gray-100);">
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <div style="width: 32px; height: 32px; background: var(--gray-100); color: var(--primary); border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; font-weight: 800; border: 1px solid var(--gray-200);">
                            @(item.OlusturanKullanici?.AdSoyad?.Substring(0,1) ?? "E")
                        </div>
                        <span style="font-size: 0.8rem; font-weight: 600; color: var(--dark);">@(item.OlusturanKullanici?.AdSoyad ?? "Eğitmen")</span>
                    </div>
                    <a asp-action="Detail" asp-route-id="@item.Id" class="premium-btn-sm" style="font-size: 0.75rem; padding: 0.5rem 1rem;">İncele</a>
                </div>
            </div>
        </div>
    }
</div>
